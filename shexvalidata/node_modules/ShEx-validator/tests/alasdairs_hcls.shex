PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX dct: <http://purl.org/dc/terms/>
PREFIX dctypes: <http://purl.org/dc/dcmitype/>
PREFIX foaf: <http://foaf.example/#>
PREFIX freq: <http://purl.org/cld/freq/>
PREFIX idot: <http://identifiers.org/idot/>
PREFIX lexvo: <http://lexvo.org/id/iso639-3/>
PREFIX pav: <http://purl.org/pav/>
PREFIX prov: <http://www.w3.org/ns/prov#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX schemaorg: <http://schema.org/>
PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
PREFIX void: <http://rdfs.org/ns/void#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

start = <SummaryLevelShape>

<SummaryLevelShape> {
    rdf:type (dctypes:Dataset),
    dct:title rdf:langString,  ### should be rdf:langString
    dct:description rdf:langString, ### should be rdf:langString
###negate dct:created .,
###negate pav:createdOn .,
###negate pav:authoredOn .,
###negate pav:curatedOn .,
###negate dct:creator .,
###negate dct:contributor .,
###negate pav:createdBy .,
###negate pav:authoredBy .,
###negate pav:curatedBy .,
###negate dct:issued .,
    dct:publisher IRI,
    (foaf:page IRI)?,
    (schemaorg:logo IRI)?,
    dct:license IRI
###negate dct:language .,
###negate void:vocabulary .,
###negate dct:conformsTo .,
###negate void:subset .,
###negate idot:identifierPattern .,
###negate void:uriRegexPattern .,
###negate idot:exampleIdentifier .,
###negate void:exampleResource .,
###negate void:inDataset .,
###negate pav:version .,
###negate dct:isVersionOf .,
###negate pav:previousVersion .,
###negate dct:source .,
###negate pav:retrievedFrom .,
###negate prov:wasDerivedFrom .,
###negate pav:createdWith .,
    ###dct:accrualPeriodicity freq:~?,
###negate dct:format .,
###negate dcat:distribution .,
###negate dcat:downloadURL .,
###negate void:dataDump .,
###negate dcat:landingPage .,
###negate void:triples .,
###negate void:entities .,
###negate void:distinctSubjects .,
###negate void:properties .,
###negate void:distinctObjects .,
###negate sd:namedGraph .,
###negate void:propertyPartition .,
###negate void:classPartition .,
###negate void:subset .
}

<VersionLevelShape> {
    rdf:type (dctypes:Dataset),
    dct:title rdf:langString,  ### should be rdf:langString
    dct:description rdf:langString, ### should be rdf:langString
    # Ensure that at least one of created or issued dates is provided
    (dct:created xsd:dateTime, dct:issued xsd:dateTime? |
        dct:created xsd:dateTime?, dct:issued xsd:dateTime),
    #This form does not work! dct:creator (IRI xsd:string)?,
    (dct:creator IRI* |
    	dct:creator xsd:string*),
    dct:publisher IRI,
    (foaf:page IRI)?,
    (schemaorg:logo IRI)?,
    dct:license IRI,
    ###(dct:language lexvo:~*)?,
###negate void:vocabulary .,
###negate void:subset .,
###negate idot:identifierPattern .,
###negate void:uriRegexPattern .,
###negate idot:exampleIdentifier .,
###negate void:exampleResource .,
###negate void:inDataset .,
    pav:version xsd:string,
    dct:isVersionOf @<EntryLevelShape>,
    pav:previousVersion @<VersionLevelShape>?,
###negate pav:hasCurrentVersion .,
	dct:source IRI,
    pav:retrievedFrom @<DistributionLevelShape>*,
    ###Need to decide what level of entry derived from should point to
    prov:wasDerivedFrom @<VersionLevelShape>*,
###negate pav:createdWith .,
###negate dct:accrualPeriodicty .,
###negate dct:format .,
    (dcat:distribution @<RDFDistributionLevelShape>* | dcat:distribution @<DistributionLevelShape>*)?
###negate dcat:downloadURL .,
###negate void:dataDump .,
###negate void:triples .,
###negate void:entities .,
###negate void:distinctSubjects .,
###negate void:properties .,
###negate void:distinctObjects .,
###negate sd:namedGraph .,
###negate void:propertyPartition .,
###negate void:classPartition .,
###negate void:subset .
}

<DistributionLevelShape> {
    rdf:type (dctypes:Dataset),
    dct:title rdf:langString,  ### should be rdf:langString
    dct:description rdf:langString, ### should be rdf:langString
    # Ensure that at least one of created or issued dates is provided
    (dct:created xsd:dateTime, dct:issued xsd:dateTime? |
        dct:created xsd:dateTime?, dct:issued xsd:dateTime),
    (dct:creator IRI* |
    	dct:creator xsd:string*),
    dct:publisher IRI,
    (foaf:page IRI)?,
    (schemaorg:logo IRI)?,
    dct:license IRI,
    ###(dct:language lexvo:~)*,
    dct:conformsTo IRI,
###negate dct:hasPart .,
	(idot:exampleIdentifier xsd:string)?,
	(void:exampleResource IRI)?,
    pav:version xsd:string?,
###negate dct:isVersionOf .,
    pav:previousVersion @<DistributionLevelShape>?,
###negate pav:hasCurrentVersion .,
	dct:source IRI?,
	pav:retrievedFrom IRI?,
	prov:wasDerivedFrom IRI?,
###negate dct:accrualPeriodicity .,
    (dct:format IRI? | dct:format xsd:string?),
###negate dcat:distribution .,
    dcat:downloadURL IRI?
###negate void:triples .,
###negate void:entities .,
###negate void:distinctSubjects .,
###negate void:properties .,
###negate void:distinctObjects .,
###negate sd:namedGraph .,
###negate void:propertyPartition .,
###negate void:classPartition .,
###negate void:subset .
}

<RDFDistributionLevelShape> {
    rdf:type (void:Dataset),
    dct:title rdf:langString,  ### should be rdf:langString
    dct:description rdf:langString, ### should be rdf:langString
    # Ensure that at least one of created or issued dates is provided
    (dct:created xsd:dateTime, dct:issued xsd:dateTime? |
        dct:created xsd:dateTime?, dct:issued xsd:dateTime),
    (dct:creator IRI* |
    	dct:creator xsd:string*),
    dct:publisher IRI,
    (foaf:page IRI)?,
    (schemaorg:logo IRI)?,
    dct:license IRI,
    ###(dct:language lexvo:~)*,
    void:vocabulary IRI*,
    dct:conformsTo IRI,
###negate dct:hasPart .,
	(idot:exampleIdentifier xsd:string)?,
	(void:exampleResource IRI)?,
	void:inDataset IRI,
    pav:version xsd:string,
###negate dct:isVersionOf .,
    pav:previousVersion @<RDFDistributionLevelShape>?,
###negate pav:hasCurrentVersion .,
	dct:source IRI?,
	pav:retrievedFrom IRI?,
	prov:wasDerivedFrom IRI?,
###negate dct:accrualPeriodicity .,
    dct:format ("text/turtle" "application/rdf+xml" "text/plain" "text/rdf+n3"),
###negate dcat:distribution .,
    void:dataDump IRI*,
    void:triples xsd:integer?,
    void:entities xsd:integer?,
    void:distinctSubjects xsd:integer?,
    void:properties xsd:integer?,
    void:distinctObjects xsd:integer?,
    sd:namedGraph sd:NamedGraph?
}
